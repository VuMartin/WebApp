<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no"
          name="viewport">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="css/styles.css">

    <title>Fabflix</title>

    <!-- favicon links -->
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">

</head>

<body id="login-header">
    <div id="header-placeholder"></div>
    <p id="welcome-main">Welcome to Fabflix! <br>
        Search and browse your favorite movies
    </p>
    <p class="main-title"> Top Rated Movies </p>
    <div class="top-movies-container-main-page">
        <div class="movie-card">
            <img src="images/loma-lynda.jpeg" alt="Movie 1">
            <p>Movie 1</p>
        </div>
        <div class="movie-card">
            <img src="images/addo.jpeg" alt="Movie 2">
            <p>Movie 2</p>
        </div>
        <div class="movie-card">
            <img src="images/footlong.jpeg" alt="Movie 3">
            <p>Movie 3</p>
        </div>
    </div>

    <div class="more-link">
        <a href="movies.html">More &raquo;</a>
    </div>
    <div class="main-title">Browse By:</div>

    <div class="main-title">Genres</div>

    <div class="genre-section">
        <ul id="genresList" class="genre-list"></ul>
    </div>

    <div class="browse-section">
        <div class="main-title">Titles</div>
        <ul id="alphaList" class="alpha-list"></ul>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <script>
        // Build 0-9 + A-Z links to movies.html?prefix=X
        $(function () {
            const $ul = $("#alphaList").empty();
            const makeItem = (txt) =>
                $("<li>").append($("<a>").text(txt).attr("href", "movies.html?prefix=" + encodeURIComponent(txt)));

            for (let d = 0; d <= 9; d++) $ul.append(makeItem(String(d)));
            for (let c = 65; c <= 90; c++) $ul.append(makeItem(String.fromCharCode(c))); // Aâ€“Z
        });
    </script>

    <!-- Load jQuery and Bootstrap JS -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->
    <!--        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>-->
    <!--        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>-->

    <script>
        $(function () {
            $.ajax({
                url: "api/genres",
                dataType: "json",
                success: function (genres) {
                    const list = $("#genresList").empty();
                    (genres || []).forEach((g) => {
                        $("<li>").append(
                            $("<a>")
                                .text(g.name)
                                .attr("href", "movies.html?genre=" + encodeURIComponent(g.name))
                        ).appendTo(list);
                    });
                }
            });
        });
    </script>

    <script src="js/header.js"></script>
</body>

</html>
